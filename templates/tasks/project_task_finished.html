{% extends "base.html" %}

{% block content %}
  <div class="container mt-4">
    <div class="row">
        <h2 class="text-center mb-4">Completed Tasks</h2>
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th class="text-center">Task Name</th>
                <th class="text-center text-truncate">Task Description</th>
                <th class="text-center">Deadline</th>
                <th class="text-center">Priority</th>
                <th class="text-center">Completed Time</th>
                <th class="text-center">Completed By</th>
              </tr>
            </thead>
            <tbody>
              {% for task in finished_tasks %}
                <tr>
                  <td class="text-center"><a href="{% url 'tasks:project-task-detail' task.id %}">{{ task.name }}</a></td>
                  <td class="text-center">{{ task.description }}</td>
                  <td class="text-center">{{ task.deadline }}</td>
                  <td class="text-center">
                    {{ task.priority }}
                  </td>
                  <td class="text-center" >{{ task.completed_time }}</td>
                  <td class="text-center">
                    {% for participant in task.assignees.all %}
                      <div class="d-flex align-items-center">
                        <h7 class="mb-1">{{ participant.first_name }} {{ participant.last_name }}</h7>
                      </div>
                    {% endfor %}
                  </td>
                  <td>
                    <a href="{% url 'tasks:project-task-detail' task.id %}" class="btn btn-sm btn-secondary">Details</a>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
    </div>
  </div>
{% endblock %}
